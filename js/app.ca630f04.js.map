{"version":3,"file":"js/app.ca630f04.js","mappings":"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","sources":["webpack://dataflow/./src/classes/FormulaFunctions.js","webpack://dataflow/./src/classes/VisualManager.js","webpack://dataflow/./src/classes/SheetManager.js","webpack://dataflow/./src/components/SheetCell.vue","webpack://dataflow/./src/components/SheetCell.vue?f773","webpack://dataflow/./src/components/SheetRow.vue","webpack://dataflow/./src/components/SheetRow.vue?08fb","webpack://dataflow/./src/components/FormulaBar.vue","webpack://dataflow/./src/components/FormulaBar.vue?ddda","webpack://dataflow/./src/classes/FileManager.js","webpack://dataflow/./src/classes/LaunchManager.js","webpack://dataflow/./src/classes/CheckCommand.js","webpack://dataflow/./src/components/CommandLine.vue","webpack://dataflow/./src/components/CommandLine.vue?7a35","webpack://dataflow/./src/components/BlurBubble.vue","webpack://dataflow/./src/components/BlurBubble.vue?0beb","webpack://dataflow/./src/components/FirstLaunchScreen.vue","webpack://dataflow/./src/components/FirstLaunchScreen.vue?6edf","webpack://dataflow/./src/App.vue","webpack://dataflow/./src/App.vue?7ccd","webpack://dataflow/./src/main.js","webpack://dataflow/webpack/bootstrap","webpack://dataflow/webpack/runtime/amd define","webpack://dataflow/webpack/runtime/amd options","webpack://dataflow/webpack/runtime/chunk loaded","webpack://dataflow/webpack/runtime/compat get default export","webpack://dataflow/webpack/runtime/define property getters","webpack://dataflow/webpack/runtime/global","webpack://dataflow/webpack/runtime/hasOwnProperty shorthand","webpack://dataflow/webpack/runtime/make namespace object","webpack://dataflow/webpack/runtime/node module decorator","webpack://dataflow/webpack/runtime/publicPath","webpack://dataflow/webpack/runtime/jsonp chunk loading","webpack://dataflow/webpack/startup"],"sourcesContent":["const config = { }\nimport { create, all } from 'mathjs'\nconst math = create(all, config)\nexport default class Formulas {\n\tconstructor() {\n\t\tFormulas.instance = this;\n\t}\n\n\treplaceVariables(expr, row, col) {\n\t\texpr = expr.replaceAll(\"{-\", \"{THISROW-\");\n\t\texpr = expr.replaceAll(\"{}\", \"{THISROW}\");\n\t\texpr = expr.replaceAll(\"{+\", \"{THISROW+\");\n\n\t\texpr = expr.replaceAll(\"[-\", \"[THISCOL-\");\n\t\texpr = expr.replaceAll(\"[]\", \"[THISCOL]\");\n\t\texpr = expr.replaceAll(\"[+\", \"[THISCOL+\");\n\n\t\texpr = expr.replaceAll(\"THISROW\", row);\n\t\texpr = expr.replaceAll(\"THISCOL\", col);\n\t\texpr = expr.replaceAll(\"PREVROW\", row - 1);\n\t\texpr = expr.replaceAll(\"PREVCOL\", col - 1);\n\t\treturn expr;\n\t}\n\n\treplaceSUM(expr) {\n\t\texpr = expr.replace(/SUM\\(([^)]+)\\)/g, (match, array) => {\n\t\t\ttry {\n\t\t\t\t//let result = JSON.parse(array.split(\"<nExTProP*!>\")[1]).SUM;\n\t\t\t\tlet result = this.getObjectFromTag(array).SUM;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\treturn e.message;\n\t\t\t}\n\t\t});\n\n\t\treturn expr;\n\t}\n\n\treplaceAVG(expr) {\n\t\texpr = expr.replace(/AVG\\(([^)]+)\\)/g, (match, array) => {\n\t\t\t//return JSON.parse(array).AVG;\n\t\t\ttry {\n\t\t\t\tlet result = this.getObjectFromTag(array).AVG;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\treturn e.message;\n\t\t\t}\n\t\t});\n\t\texpr = expr.replace(/MEAN\\(([^)]+)\\)/g, (match, array) => {\n\t\t\t//return JSON.parse(array).AVG;\n\t\t\ttry {\n\t\t\t\tlet result = this.getObjectFromTag(array).AVG;\n\t\t\t\treturn result;\n\t\t\t}\n\t\t\tcatch(e) {\n\t\t\t\treturn e.message;\n\t\t\t}\n\t\t});\n\n\t\treturn expr;\n\t}\n\n\tgetObjectFromTag(tag) {\n\t\treturn JSON.parse(tag.split(\"<nExTProP*!>\")[1]);\n\t}\n\n\treplaceSUMIF(expr) {\n\t\texpr = expr.replace(/SUMIF\\(([^)]+)\\)/g, (match, contents) => {\n\t\t\t//const props = contents.split(\",\");\n\t\t\t//const conRange = JSON.parse(props[0]).ARRAY;\n\t\t\tconst props = contents.split(\"<nExTProP*!>\");\n\t\t\tconst conRange = JSON.parse(props[1]).ARRAY;\n\t\t\tconst crit = props[2].substring(1, props[2].length - 1);\n\t\t\tconst valRange = JSON.parse(props[3]).ARRAY;\n\n\t\t\tlet sum = 0;\n\t\t\tlet term = crit.substring(1);\n\t\t\tfor (let i = 0; i < valRange.length; i++) {\n\t\t\t\tif (crit[0] == \"=\" && conRange[i] == term) {\n\t\t\t\t\tsum += Number(valRange[i]);\n\t\t\t\t}\n\t\t\t\telse if (crit[0] == \"!\" && conRange[i] != term) {\n\t\t\t\t\tsum += Number(valRange[i]);\n\t\t\t\t}\n\t\t\t\telse if (crit[0] == \"<\" && conRange[i] < term) {\n\t\t\t\t\tsum += Number(valRange[i]);\n\t\t\t\t}\n\t\t\t\telse if (crit[0] == \">\" && conRange[i] > term) {\n\t\t\t\t\tsum += Number(valRange[i]);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn sum;\n\t\t});\n\n\t\treturn expr;\n\t}\n\n\treplaceCOUNTIF(expr) {\n\t\texpr = expr.replace(/COUNTIF\\(([^)]+)\\)/g, (match, contents) => {\n\t\t\tconst props = contents.split(\"<nExTProP*!>\");\n\t\t\tconst conRange = JSON.parse(props[1]).ARRAY;\n\t\t\tconst crit = props[2].substring(1, props[2].length - 1);\n\t\t\tconst valRange = JSON.parse(props[3]).ARRAY;\n\n\t\t\tlet count = 0;\n\t\t\tlet term = crit.substring(1);\n\t\t\tfor (let i = 0; i < valRange.length; i++) {\n\t\t\t\tif (crit[0] == \"=\" && conRange[i] == term) {\n\t\t\t\t\tcount ++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn count;\n\t\t});\n\n\t\treturn expr;\n\t}\n\n\treplaceAVGIF(expr) {\n\t\texpr = expr.replace(/AVGIF\\(([^)]+)\\)/g, (match, contents) => {\n\t\t\tconst props = contents.split(\"<nExTProP*!>\");\n\t\t\tconst conRange = JSON.parse(props[1]).ARRAY;\n\t\t\tconst crit = props[2].substring(1, props[2].length - 1);\n\t\t\tconst valRange = JSON.parse(props[3]).ARRAY;\n\n\t\t\tlet count = 0;\n\t\t\tlet sum = 0;\n\t\t\tlet term = crit.substring(1);\n\t\t\tfor (let i = 0; i < valRange.length; i++) {\n\t\t\t\tif (crit[0] == \"=\" && conRange[i] == term) {\n\t\t\t\t\tsum += Number(valRange[i]);\n\t\t\t\t\tcount ++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\treturn sum/count;\n\t\t});\n\n\t\treturn expr;\n\t}\n\n\n\treplaceCOUNT(expr) {\n\t\texpr = expr.replace(/COUNT\\(([^)]+)\\)/g, (match, array) => {\n\t\t\treturn this.getObjectFromTag(array).COUNT;\n\t\t});\n\t\treturn expr;\n\t}\n\n\n\treplaceReferences(expr, sheetManager) {\n\t\t// replacing cell references with their values\n\t\texpr = expr.replace(/([A-Z])(\\d+)/g, (match, letter, number) => {\n\t\t\treturn sheetManager.getValue(number, letter.charCodeAt(0) - 65);\n\t\t});\n\t\t\n\t\treturn expr;\n\t}\n\n\t// evaluated curly bracs, which can be used to use a calculation to choose a row in formulas\n\tevaluateRefCalcs(expr, sheetManager) {\n\t\texpr = expr.replaceAll(/\\{([^}]+)\\}/g, (match, expression) => {\n\t\t\ttry {\n\t\t\t\t// Evaluate the expression within the curly braces\n\t\t\t\tconst result = math.evaluate(this.replaceReferences(expression, sheetManager));\n\t\t\t\treturn result; // Replace the match with the result\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\tconsole.error(`Error evaluating expression \"${expression}\":`, error);\n\t\t\t\tconsole.error(error.message);\n\t\t\t\treturn match; // If evaluation fails, return the original match\n\t\t\t}\n\t\t});\n\t\treturn expr;\n\t}\n\tevaluateLetterRefCalcs(expr, sheetManager) {\n\t\texpr = expr.replaceAll(/\\[([^\\]]+)\\]/g, (match, expression) => {\n\t\t\ttry {\n\t\t\t\t// Evaluate the expression within the curly braces\n\t\t\t\tconst result = math.evaluate(this.replaceReferences(expression, sheetManager));\n\t\t\t\treturn String.fromCharCode(65 + result);\n\t\t\t}\n\t\t\tcatch (error) {\n\t\t\t\tconsole.error(`Error evaluating expression \"${expression}\":`, error);\n\t\t\t\tconsole.error(error.message);\n\t\t\t\treturn match; // If evaluation fails, return the original match\n\t\t\t}\n\t\t});\n\t\treturn expr;\n\t}\n\n\treplaceCellRanges(expr, row, col, sheetManager) {\n\t\tlet circularLogic = false;\n\t\t// replace cell ranges (e.g. A0:A20) with objects\n\t\texpr = expr.replace(/\\b([A-Z]+\\d+):([A-Z]+\\d+)\\b/g, (match, start, end) => {\n\n\t\t\t// Extract column and row for start and end cells\n\t\t\tconst startCol = start.match(/[A-Z]+/)[0].charCodeAt(0) - 65;\n\t\t\tconst startRow = parseInt(start.match(/\\d+/)[0]);\n\t\t\tconst endCol = end.match(/[A-Z]+/)[0].charCodeAt(0) - 65;\n\t\t\tconst endRow = parseInt(end.match(/\\d+/)[0]);\n\n\t\t\t// check that the cell is outside the range\n\t\t\tif (startCol <= col && col <= endCol && startRow <= row && row <= endRow) {\n\t\t\t\tcircularLogic = true;\n\t\t\t\tconsole.error(\"Circular reference detected for range:\", match);\n\t\t\t\treturn JSON.stringify({ error: \"Circular Reference Detected\" });\n\t\t\t}\n\n\t\t\tlet sum = 0;\n\t\t\tlet values = [];\n\t\t\tlet count = 0;\n\n\t\t\t// Iterate through the range and collect values\n\t\t\tfor (let i = startRow; i <= endRow; i++) {\n\t\t\t\tfor (let j = startCol; j <= endCol; j++) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tconst value = Number(sheetManager.getValue(i, j)); // Assume this.getValue retrieves cell value\n\t\t\t\t\t\tsum += value;\n\t\t\t\t\t\t//values.push(value);\n\t\t\t\t\t} catch {\n\t\t\t\t\t\tconst nonNumericValue = sheetManager.getValue(i, j);\n\t\t\t\t\t\tconsole.log(nonNumericValue);\n\t\t\t\t\t\t//values.push(`'${nonNumericValue}'`);\n\t\t\t\t\t}\n\t\t\t\t\tvalues.push(sheetManager.getValue(i, j));\n\t\t\t\t\tcount++;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Calculate average\n\t\t\tconst average = sum / count;\n\n\t\t\t// Return JSON string with results\n\t\t\treturn \"<nExTProP*!>\" + JSON.stringify({\n\t\t\t\tSUM: sum,\n\t\t\t\tARRAY: values,\n\t\t\t\tCOUNT: count,\n\t\t\t\tAVG: average\n\t\t\t}) + \"<nExTProP*!>\";\n\t\t});\n\t\t\n\t\tif (!circularLogic) {\n\t\t\treturn expr;\n\t\t}\n\n\t\treturn \"circular\";\n\t}\n}\n","export default class VisualManager {\n\tconstructor() {\n\t\tif (VisualManager.instance) {\n\t\t\treturn VisualManager.instance;\n\t\t}\n\t\tthis.startRow = null;\n\t\tthis.startCol = null;\n\t\tVisualManager.instance = this;\n\t}\n\n\tstartVisual(row, col) {\n\t\tthis.startRow = row;\n\t\tthis.startCol = col;\n\t\tthis.setVisual(this.startRow, this.startCol);\n\t}\n\n\tgetSelectionElement(row, col) {\n\t\tlet element = document.getElementById(\"visual\" + col + \":\" + row);\n\t\treturn element;\n\t}\n\n\tsetVisual(endRow, endCol) {\n\t\tif (this.startRow == null || this.startCol == null) return;\n\n\t\tthis.clearVisual();\n\n\t\tlet startRow = Math.min(this.startRow, endRow);\n\t\tendRow = Math.max(this.startRow, endRow);\n\n\t\tlet startCol = Math.min(this.startCol, endCol);\n\t\tendCol = Math.max(this.startCol, endCol);\n\t\tfor (let y = startRow; y <= endRow; y++) {\n\t\t\tfor (let x = startCol; x <= endCol; x++) {\n\t\t\t\tthis.getSelectionElement(y, x).className = \"sel active\";\n\t\t\t}\n\t\t}\n\t}\n\n\t// clears the styling of the visual selection,\n\tclearVisual() {\n\t\tconst collection = document.getElementsByClassName(\"active\");\n\t\tconst visuals = [...collection];\n\t\tfor (let i = 0; i < visuals.length; i++) {\n\t\t\tvisuals[i].className = \"sel inactive\";\n\t\t}\n\t}\n\n\texitVisual() {\n\t\tif (this.startRow == null && this.startCol == null) return;\n\t\tthis.clearVisual();\n\t\tthis.startRow = null;\n\t\tthis.startCol = null;\n\t}\n\n\tyankSelection(sheetManager) {\n\t\tlet endRow = sheetManager.selRow;\n\t\tlet endCol = sheetManager.selCol;\n\t\tlet startRow = Math.min(this.startRow, endRow);\n\t\tendRow = Math.max(this.startRow, endRow);\n\n\t\tlet startCol = Math.min(this.startCol, endCol);\n\t\tendCol = Math.max(this.startCol, endCol);\n\t\tlet buffer = [];\n\t\tfor (let y = startRow; y <= endRow; y++) {\n\t\t\tlet line = [];\n\t\t\tfor (let x = startCol; x <= endCol; x++) {\n\t\t\t\tline.push(sheetManager.getFormula(y, x));\n\t\t\t}\n\n\t\t\tbuffer.push(line);\n\t\t}\n\n\t\tconsole.log(buffer);\n\n\t\tsheetManager.copyBuffer = buffer;\n\t}\n\n}\n","import { ref } from \"vue\";\n//import { reactive } from \"vue\";\nimport { create, all } from 'mathjs'\nimport Formulas from './FormulaFunctions.js';\nconst formulas = new Formulas();\nconst config = { }\nconst math = create(all, config)\n\nimport VisualManager from './VisualManager.js';\nconst visualManager = new VisualManager();\n\nexport default class SheetManager {\n\tconstructor() {\n\t\t// make sure there is only one instance of SheetManager\n\t\tif (SheetManager.instance) {\n\t\t\treturn SheetManager.instance;\n\t\t}\n\n\t\tthis.rows = [];\n\t\tthis.styles = [];\n\t\tthis.defaultBG = \"#091119\";\n\t\tthis.defaultFG = \"white\";\n\n\t\tthis.numOfRows = ref(50);\n\t\tthis.numOfCols = ref(50);\n\t\tthis.selRow = 0;\n\t\tthis.selCol = 0;\n\t\tthis.prevRow = 0;\n\t\tthis.prevCol = 0;\n\t\tthis.copyBuffer = [[]];\n\t\tthis.path = null;\n\t\tthis.defaultStyling = {\n\t\t\tfg: \"white\",\n\t\t\tbg: \"transparent\"\n\t\t};\n\n\t\t// create a 2D array of empty strings\n\t\tfor (let i = 0; i < this.numOfRows.value; i++) {\n\t\t\tlet row = [];\n\t\t\tlet styleRow = [];\n\t\t\tfor (let j = 0; j < this.numOfCols.value; j++) {\n\t\t\t\trow.push(\"\");\n\t\t\t\tstyleRow.push({\n\t\t\t\t\tfg: \"white\",\n\t\t\t\t\tbg: \"transparent\"\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.rows.push(row);\n\t\t\tthis.styles.push(styleRow);\n\t\t}\n\t\tSheetManager.instance = this;\n\t}\n\n\tclearScreen() {\n\t\tthis.rows = [];\n\t\tthis.styles = [];\n\n\t\tfor (let i = 0; i < this.numOfRows.value; i++) {\n\t\t\tlet row = [];\n\t\t\tlet styleRow = [];\n\t\t\tfor (let j = 0; j < this.numOfCols.value; j++) {\n\t\t\t\trow.push(\"\");\n\t\t\t\tstyleRow.push({\n\t\t\t\t\tfg: \"white\",\n\t\t\t\t\tbg: \"transparent\"\n\t\t\t\t});\n\t\t\t}\n\t\t\tthis.rows.push(row);\n\t\t\tthis.styles.push(styleRow);\n\t\t}\n\n\t\tthis.loadAllCells(this.numOfRows.value, this.numOfCols.value);\n\t\tthis.loadStyles();\n\t}\n\n\tloadStyles() {\n\t\tconst cols = this.numOfCols.value;\n\t\tconst rows = this.numOfRows.value;\n\n\t\tfor (let x = 0; x < cols; x++) {\n\t\t\tfor (let y = 0; y < rows; y++) {\n\t\t\t\tconst styles = this.styles[y][x];\n\t\t\t\tconst com = `:hi bg ${styles.bg} fg ${styles.fg}`;\n\t\t\t\tthis.setStyles(com, y, x);\n\t\t\t}\n\t\t}\n\t}\n\n\n\tsetStyles(com, row, col) {\n\t\tconst split = com.split(\" \");\n\t\t//let validCom = true;\n\t\tfor (let i = 1; i < split.length; i++) {\n\t\t\tconst color = split[i];\n\t\t\tconst style = new Option().style;\n\t\t\tstyle.color = color;\n\t\t\t// check if it is a valid css color\n\t\t\tconst validColor = style.color !== '';\n\t\t\tif (split[i - 1] == \"bg\") {\n\t\t\t\tif (validColor) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.getCell(row, col).style.backgroundColor = split[i];\n\t\t\t\t\t\tthis.styles[row][col].bg = split[i];\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\tconsole.log(e.message);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setPlaceholder(color + \"is not a valid CSS color\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (split[i - 1] == \"fg\") {\n\t\t\t\tif (validColor) {\n\t\t\t\t\ttry {\n\t\t\t\t\t\tthis.getCell(row, col).style.color = split[i];\n\t\t\t\t\t}\n\t\t\t\t\tcatch(e) {\n\t\t\t\t\t\tconsole.log(e.message);\n\t\t\t\t\t}\n\t\t\t\t\tthis.styles[row][col].fg = split[i];\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tthis.setPlaceholder(color + \"is not a valid CSS color\");\n\t\t\t\t}\n\t\t\t}\n\t\t\telse if (split[i] == \"reset\") {\n\t\t\t\tthis.resetStyles(row, col);\n\t\t\t}\n\t\t\telse if (split[i] == \"resetall\") {\n\t\t\t\tthis.resetAllStyles();\n\t\t\t}\n\t\t}\n\t}\n\n\tresetStyles(row, col) {\n\t\tthis.setStyles(\":hi fg white bg transparent\", row, col);\n\t}\n\n\tresetAllStyles() {\n\t\tconst cols = this.numOfCols.value;\n\t\tconst rows = this.numOfRows.value;\n\t\t//for (let x = 0; x < cols; x++) {\n\t\t\t//for (let y = 0; y < rows; y++) {\n\t\t\t\t//this.resetStyles(x, y);\n\t\t\t//}\n\t\t//}\n\n\t\tlet styleRow = [];\n\t\tlet styles = [];\n\t\tfor (let i = 0; i < cols; i++) {\n\t\t\t//styleRow.push(this.defaultStyling);\n\t\t\tstyleRow.push({\n\t\t\t\tfg: this.defaultStyling.fg,\n\t\t\t\tbg: this.defaultStyling.bg\n\t\t\t});\n\t\t}\n\n\t\tfor (let p = 0; p < rows; p++) {\n\t\t\tstyles.push(styleRow);\n\t\t}\n\n\t\tthis.styles = styles;\n\n\t\tthis.loadStyles();\n\t}\n\n\t// function to get the formula for a specific cell\n\tgetFormula(row, col) {\n\t\t// tries to get the formula, if it fails, it returns blank and logs the error\n\t\ttry {\n\t\t\treturn this.rows[row][col];\n\t\t}\n\t\tcatch(e) {\n\t\t\tconsole.log(e.message);\n\t\t\treturn '';\n\t\t}\n\t}\n\n\t// get the value of a specific cell\n\tgetValue(row, col) {\n\t\tlet expr = this.getFormula(row, col);\n\n\t\t// if the cell is not a formula, return the expression with no changes\n\t\tif (expr[0] !== \"=\") {\n\t\t\treturn expr;\n\t\t}\n\t\t// remove the equals sign from the expression\n\t\texpr = expr.substring(1);\n\n\t\t// replacing all variables and relative references\n\t\texpr = formulas.replaceVariables(expr, row, col);\n\n\t\t// replacing curly brace calcs with a number result\n\t\texpr = formulas.evaluateRefCalcs(expr, this);\n\t\t// replacing square brace calcs with a letter result for col references\n\t\texpr = formulas.evaluateLetterRefCalcs(expr, this);\n\t\t// remove all white space\n\t\texpr = expr.replaceAll(\" \", \"\");\n\t\t// replacing cell ranges with string objects containing the sum and array.\n\t\t// replace cell ranges (e.g. A0:A20) with objects\n\t\texpr = formulas.replaceCellRanges(expr, row, col, this);\n\t\tif (expr === \"circular\") return \"circular logic detected\";\n\t\t// replacing SUM with its value\n\t\texpr = formulas.replaceSUM(expr);\n\t\texpr = formulas.replaceAVG(expr);\n\t\t// replacing SUMIF with its value\n\t\t// SUMIF(conditionRange| criteria| valueRange)\n\t\texpr = formulas.replaceSUMIF(expr);\n\t\texpr = formulas.replaceCOUNTIF(expr);\n\t\texpr = formulas.replaceAVGIF(expr);\n\t\t// replacing COUNT with the count\n\t\texpr = formulas.replaceCOUNT(expr);\n\t\t// replacing cell references with their values\n\t\texpr = formulas.replaceReferences(expr, this);\n\n\t\t// try to evaluate the expreession, if it fails, return the error message.\n\t\ttry {\n\t\t\treturn math.evaluate(expr);\n\t\t}\n\t\tcatch(e) {\n\t\t\treturn e.message;\n\t\t}\n\t}\n\n\t// function to select a specific cell\n\tselectCell(row, col) {\n\t\t// tries to select the cell, if it fails, it logs the error\n\t\ttry {\n\t\t\tthis.selRow = row;\n\t\t\tthis.selCol = col;\n\t\t\t// display the formula of the new selected cell in the formula bar\n\t\t\tlet bar = document.getElementById(\"formulaBar\");\n\t\t\tbar.value = this.getFormula(row, col);\n\n\t\t\t// if it is defined, remove the focussed class from the previously selected cell\n\t\t\tif (this.getSelectedCell() != undefined) {\n\t\t\t\tthis.getSelectedCell().className = \"cell\";\n\t\t\t}\n\n\t\t\t// update the cell picker value\n\t\t\tdocument.getElementById(\"cellPicker\").value = String.fromCharCode(col + 65) + (row);\n\n\t\t\t// add the focussed class to the new selected cell\n\t\t\tthis.getCell(row, col).className = \"focussed cell\";\n\n\t\t\t// update the relative row numbers\n\t\t\tthis.updateRelRows();\n\t\t\tlet scrollCol = col;\n\t\t\tif (this.selCol < this.prevCol) {\n\t\t\t\tscrollCol = col > 1 ? col - 1 : 0;\n\t\t\t}\n\t\t\tlet scrollRow = row;\n\t\t\tif (this.selRow > this.prevRow) {\n\t\t\t\tscrollRow = row < this.numOfRows.value - 1 ? row + 1 : this.numOfRows.value - 1;\n\t\t\t}\n\t\t\telse if (this.selRow < this.prevRow) {\n\t\t\t\tscrollRow = row > 2 ? row - 2 : 0;\n\t\t\t}\n\n\t\t\t//const cell = this.getCell(scrollRow, scrollCol);\n\n\t\t\t//const initialPos = cell.getBoundingClientRect();\n\n\t\t\tthis.getCell(scrollRow, scrollCol).scrollIntoView({\n\t\t\t\tblock: \"nearest\",\n\t\t\t\tinline: \"nearest\",\n\t\t\t});\n\n\t\t\t//const finalPos = cell.getBoundingClientRect();\n\n\t\t\t//const scrolled = initialPos.top !== finalPos.top || initialPos.left !== finalPos.left;\n\n\t\t\t// if scrolling to first col, then scroll all the way\n\t\t\tlet scrollEdge = false;\n\t\t\tlet left = window.scrollX;\n\t\t\tlet top = window.scrollY;\n\t\t\tif (col == 0) {\n\t\t\t\tleft = 0;\n\t\t\t\tscrollEdge = true;\n\t\t\t}\n\n\t\t\t// if scrolling to last row, then scroll all the way\n\t\t\tif (row == this.numOfRows.value - 1) {\n\t\t\t\ttop = document.body.scrollHeight;\n\t\t\t\tscrollEdge = true;\n\t\t\t}\n\n\t\t\t// if scrolling to first row, then scroll all the way\n\t\t\tif (row < 2) {\n\t\t\t\ttop = 0;\n\t\t\t\tscrollEdge = true;\n\t\t\t}\n\n\t\t\tif (scrollEdge) {\n\t\t\t\twindow.scrollTo({\n\t\t\t\t\tleft: left,\n\t\t\t\t\ttop: top\n\t\t\t\t});\n\t\t\t}\n\n\t\t\tthis.prevRow = this.selRow;\n\t\t\tthis.prevCol = this.selCol;\n\n\t\t\tvisualManager.setVisual(this.selRow, this.selCol);\n\t\t}\n\t\tcatch(e) {\n\t\t\tconsole.log(e.message);\n\t\t}\n\t\tthis.clearPlaceholder();\n\t}\n\n\tscrollToCenterSelCell() {\n\t\tlet cell = this.getCell(this.selRow, this.selCol);\n\n\t\tcell.scrollIntoView({\n\t\t\tbehavior: 'smooth',\n\t\t\tblock: 'center',\n\t\t\tinline: 'center'\n\t\t});\n\n\t}\n\n\t// function to set the formula of the selected cell\n\tsetFormula(move = true) {\n\t\t// set the formula from the formula bar to the selected cell\n\t\tthis.rows[this.selRow][this.selCol] = document.getElementById(\"formulaBar\").value;\n\n\t\t// update the value of the selected cell\n\t\tthis.getCell(this.selRow, this.selCol).innerText = this.getValue(this.selRow, this.selCol);\n\t\tthis.loadAllCells(this.numOfRows.value, this.numOfCols.value);\n\n\t\t//this.moveDown(1);\n\t\tif (move) {\n\t\t\tthis.keyboardMotion(0, 1);\n\t\t}\n\t}\n\n\t// called when the user yanks something\n\tyank(cells) {\n\t\tthis.copyBuffer = cells;\t\n\t}\n\n\n\tpaste(amount, horizontal = false) {\n\t\tfor (let i = 0; i < amount; i++) {\n\t\t\tfor (let y = 0; y < this.copyBuffer.length; y++) {\n\t\t\t\tfor (let x = 0; x < this.copyBuffer[y].length; x++) {\n\t\t\t\t\tthis.rows[this.selRow + y][this.selCol + x] = this.copyBuffer[y][x];\n\t\t\t\t}\n\t\t\t}\n\t\t\tthis.loadAllCells(this.numOfRows.value, this.numOfCols.value);\n\t\t\t//this.moveDown(1);\n\t\t\tif (!horizontal) {\n\t\t\t\tthis.keyboardMotion(0, this.copyBuffer.length);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.keyboardMotion(this.copyBuffer[0].length, 0);\n\t\t\t}\n\t\t}\n\t}\n\n\tpasteInGapRow(amount, dir) {\n\t\tif (dir == -1) this.keyboardMotion(0, 1);\n\n\t\tconst startRow = this.selRow + 1;\n\t\tconst startCol = this.selCol;\n\n\t\tconst rowAmount = this.copyBuffer.length * amount;\n\n\t\tthis.insertRowBelow(rowAmount);\n\n\t\tthis.selectCell(startRow, startCol);\n\t\tthis.paste(amount, false);\n\t}\n\n\tpasteInGapCol(amount, dir) {\n\t\tif (dir == -1) this.keyboardMotion(-1, 0);\n\t\tconst startRow = this.selRow;\n\t\tconst startCol = this.selCol + 1;\n\n\t\tconst colAmount = this.copyBuffer[0].length * amount;\n\n\t\tthis.insertColRight(colAmount);\n\n\t\tthis.selectCell(startRow, startCol);\n\n\t\tthis.paste(amount, true);\n\t}\n\n\t// function to get the element of a specific cell\n\tgetCell(row, col) {\n\t\treturn document.getElementById(col + \":\" + row);\n\t}\n\n\t// returns the currently selected cell based on the className \"focusssed\"\n\tgetSelectedCell() {\n\t\treturn document.getElementsByClassName(\"focussed\")[0];\n\t}\n\n\t// navigation functions\n\tkeyboardMotion(x, y) {\n\t\tlet newCol = this.selCol + x;\n\t\tlet newRow = this.selRow + y;\n\t\tnewCol = Number(Math.max(0, newCol));\n\t\tnewCol = Number(Math.min(newCol, this.numOfCols.value - 1));\n\n\t\tnewRow = Number(Math.max(0, newRow));\n\t\tnewRow = Number(Math.min(newRow, this.numOfRows.value - 1));\n\n\t\tthis.selectCell(newRow, newCol);\n\t\tthis.updateRelRows();\n\t}\n\n\t// function to update the relative row numbers\n\tupdateRelRows() {\n\t\tlet labels = document.getElementsByClassName(\"relRow\");\n\t\tfor (let i = 1; i < labels.length; i++) {\n\t\t\tlabels[i].innerText = Math.abs(this.selRow - i + 1);\n\t\t}\n\t}\n\n\t// functions for saving using strings, temporary before i work out backend\n\tsaveSheetToClipboard() {\n\t\tlet str = JSON.stringify(this.rows);\n\t\tnavigator.clipboard.writeText(str);\n\t\t//let commandLine = document.getElementById(\"commandLine\");\n\t}\n\n\tloadFromClipboard() {\n\t\tlet commandLine = document.getElementById(\"commandLine\");\n\t\t//let str = navigator.clipboard.readText();\n\t\tlet str = commandLine.value;\n\n\t\tif (str === \"\") {\n\t\t\tcommandLine.placeholder = \"Paste the JSON string here, then click 'Load from clipboard'\";\n\t\t\treturn;\n\t\t}\n\t\tlet data = JSON.parse(str);\n\t\tthis.rows = data;\n\t\tthis.loadAllCells(data.length, data[0].length);\n\t\tcommandLine.value = \"\";\n\t\tthis.clearPlaceholder();\n\t}\n\n\tclearPlaceholder() {\n\t\tlet commandLine = document.getElementById(\"commandLine\");\n\t\tcommandLine.placeholder = \"\";\n\t}\n\n\tsetPlaceholder(str) {\n\t\tlet commandLine = document.getElementById(\"commandLine\");\n\t\tcommandLine.placeholder = str;\n\t}\n\n\tloadAllCells(r, c) {\n\t\tfor (let i = 0; i < this.numOfRows.value; i++) {\n\t\t\tfor (let j = 0; j < this.numOfCols.value; j++) {\n\t\t\t\ttry {\n\t\t\t\t\tthis.getCell(i, j).innerText = this.getValue(i, j);\n\t\t\t\t}\n\t\t\t\tcatch {\n\t\t\t\t\tconsole.log(\"cell not yet loaded\");\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t// checks if new cells are being created, if they are, then it lets the styles be loaded once it is all mounted, otherwise it loads the styles right away.\n\t\tif (r >= this.numOfRows.value && c >= this.numOfCols.value) {\n\t\t\tthis.loadStyles();\n\t\t}\n\n\t\tthis.clearPlaceholder();\n\t}\n\n\tremoveColAtIndex(index) {\n\t\tfor (let i = 0; i < this.rows.length; i++) {\n\t\t\tthis.rows[i].splice(index, 1);\n\t\t\tthis.styles[i].splice(index, 1);\n\t\t}\n\n\t\tthis.loadAllCells(this.numOfRows.value, this.numOfCols.value);\n\t\tthis.selectCell(this.selRow, this.selCol);\n\t}\n\n\tdeleteSelCol(amount) {\n\t\tfor (let i = 0; i < amount; i++) {\n\t\t\tthis.removeColAtIndex(this.selCol);\n\t\t}\n\t}\n\n\tremoveRowAtIndex(index) {\n\t\tthis.rows.splice(index, 1);\n\t\tthis.styles.splice(index, 1);\n\t\tthis.numOfRows.value--;\n\t\tthis.loadAllCells(this.numOfRows.value, this.numOfCols.value);\n\t\tthis.loadStyles();\n\t\tthis.selectCell(this.selRow, this.selCol);\n\t}\n\n\tdeleteSelRow(amount) {\n\t\tfor (let i = 0; i < amount; i++) {\t\n\t\t\tthis.removeRowAtIndex(this.selRow);\n\t\t}\n\t}\n\n\tinsertRowAtIndex(index, amount = 1) {\n\t\tconst createRow = () => Array.from({ length: this.numOfCols.value }, () => \"\");\n\t\tconst createStyleRow = () => Array.from({ length: this.numOfCols.value }, () => ({\n\t\t\tfg: this.defaultStyling.fg,\n\t\t\tbg: this.defaultStyling.bg\n\t\t}));\n\n\t\tconst rowsToInsert = Array.from({ length: amount }, createRow);\n\t\tconst stylesToInsert = Array.from({ length: amount }, createStyleRow);\n\n\t\tthis.rows.splice(index, 0, ...rowsToInsert);\n\t\tthis.styles.splice(index, 0, ...stylesToInsert);\n\n\t\tthis.numOfRows.value += amount;\n\t\tthis.selectCell(this.selRow, this.selCol);\n\t}\n\n\tinsertColumnAtIndex(index) {\n\t\tfor (let i = 0; i < this.numOfRows.value; i++) {\n\t\t\tthis.rows[i].splice(index, 0, \"\");\n\t\t\tthis.styles[i].splice(index, 0, {\n\t\t\t\tfg: this.defaultStyling.fg,\n\t\t\t\tbg: this.defaultStyling.bg\n\t\t\t});\n\t\t}\n\t\tthis.numOfCols.value++;\n\t\tthis.loadAllCells(this.numOfRows.value, this.numOfCols.value);\n\n\t\tthis.selectCell(this.selRow, this.selCol);\n\t}\n\n\tinsertRowBelow(amount = 1) {\n\t\t//for (let i = 0; i < amount; i++) {\n\t\t\t//this.insertRowAtIndex(this.selRow + 1);\n\t\t\t//this.keyboardMotion(0, 1);\n\t\t//}\n\t\t//\n\t\tthis.insertRowAtIndex(this.selRow + 1, amount);\n\t\tthis.keyboardMotion(0, 1);\n\t}\n\n\tinsertRowAbove(amount = 1) {\n\t\tfor (let i = 0; i < amount; i++) {\n\t\t\tthis.insertRowAtIndex(this.selRow);\n\t\t}\n\t\t//this.moveUp(1);\n\t}\n\n\tinsertColRight(amount) {\n\t\tfor (let i = 0; i < amount; i++) {\n\t\t\tthis.insertColumnAtIndex(this.selCol + 1);\n\t\t\tthis.keyboardMotion(1, 0);\n\t\t}\n\t}\n\n\tinsertColLeft() {\n\t\tthis.insertColumnAtIndex(this.selCol);\n\t\t//this.moveLeft(1);\n\t}\n}\n","<template>\n\t<td class=\"tableCell\">\n\t\t<button :id=\"colNo + ':' + rowNo\" class=\"cell\" @dblclick=\"handleDblClick\" @click=\"handleClick()\"></button>\n\t\t<div :id=\"'visual'+colNo+':'+rowNo\" class=\"sel inactive\"></div>\n\t</td>\n</template>\n\n<script setup>\n\timport { onMounted, defineProps } from 'vue';\n\timport SheetManager from '../classes/SheetManager.js';\n\tconst sheetManager = new SheetManager();\n\n\tconst props = defineProps({\n\t\trowNo: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tcolNo: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tnumOfCols: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\tnumOfRows: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t}\n\t});\n\n\tonMounted(() => {\n\t\t//if (props.rowNo == sheetManager.value.numOfRows.value - 1 && props.colNo == sheetManager.value.numOfCols.value - 1) {\n\t\tif (props.rowNo == props.numOfRows - 1 && props.colNo == props.numOfCols - 1) {\n\t\t\tsheetManager.loadAllCells(sheetManager.numOfRows.value, sheetManager.numOfCols.value);\n\t\t\tsheetManager.loadStyles();\n\t\t}\n\t});\n\tfunction handleClick() {\n\t\tsheetManager.selectCell(props.rowNo, props.colNo);\n\t\tdocument.getElementById(\"commandLine\").focus();\n\t}\n\n\tfunction handleDblClick() {\n\t\tsheetManager.selectCell(props.rowNo, props.colNo);\n\t\tdocument.getElementById(\"formulaBar\").focus();\n\t}\n\n</script>\n\n<style scoped>\ntd {\n\tborder: 1px solid #15202E;\n\theight: 20px;\n\tpadding: 0;\n\tmargin: 0;\n\t/*background-color: #091119;*/\n\tbackground-color: transparent;\n\tposition: relative;\n\tz-index: 0;\n}\n.cell {\n\t/*background-color: #091119;*/\n\tbackground-color: transparent;\n\tborder: none;\n\toutline: none;\n\t/*height: calc(18px);*/\n\theight: 100%;\n\tmin-width: 80px;\n\t/*width: fit-content;*/\n\twidth: 100%;\n\tcolor: white;\n\ttext-align: left;\n\tfont-size: 15px;\n\tmargin: 0;\n\tpadding: 2px;\n\twhite-space: nowrap;\n\tdisplay: block;\n}\n\n.cell:hover {\n\t/*outline: 1px solid rgba(255,255,255,0.5);*/\n\tbox-shadow: inset 0 0 0 1px rgba(255,255,255,0.5); /* Inner outline effect */\n}\n\n.focussed:hover {\n\t/*outline: 2px solid white;*/\n\tbox-shadow: inset 0 0 0 2px white; /* Inner outline effect */\n}\n\n.focussed {\n\t/*outline: 2px solid white;*/\n\tbox-shadow: inset 0 0 0 2px white; /* Inner outline effect */\n}\n\n.visualSelection {\n\tbackground-color: rgba(0, 216, 255, 0.5);\n}\n\n.sel {\n\tposition: absolute;\n\ttop: 0;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\t/*background-color: rgba(15, 255, 255);*/\n\tbackground-color: #4CFDFF;\n\tz-index: 1;\n\topacity: 0.3;\n\tpointer-events: none;\n}\n\n.inactive {\n\tdisplay: none;\n}\n\n.active {\n\tdisplay: block;\n}\n</style>\n","import script from \"./SheetCell.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SheetCell.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./SheetCell.vue?vue&type=style&index=0&id=140bfdeb&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-140bfdeb\"]])\n\nexport default __exports__","<template>\n\t<tr class=\"sheetRow\">\n\t\t<td class=\"labels rowLabels\">{{ rowNo }}</td>\n\t\t<td class=\"labels relRow\">{{ rowNo }}</td>\n\t\t<SheetCell \n\t\t\tv-for=\"(cell, index) in row\"\n\t\t\t:key=\"index\"\n\t\t\t:rowNo=\"rowNo\"\n\t\t\t:colNo=\"index\"\n\t\t\t:numOfRows=\"sheetManager.numOfRows.value\"\n\t\t\t:numOfCols=\"sheetManager.numOfCols.value\"\n\t\t/>\n\t</tr>\n</template>\n<script setup>\n\timport { defineProps } from 'vue';\n\timport SheetCell from './SheetCell.vue';\n\timport SheetManager from '../classes/SheetManager.js';\n\n\tconst sheetManager = new SheetManager();\n\n\tdefineProps({\n\t\trowNo: {\n\t\t\ttype: Number,\n\t\t\trequired: true,\n\t\t},\n\t\trow: {\n\t\t\ttype: Array,\n\t\t\trequired: true,\n\t\t},\n\t});\n</script>\n<style scoped>\n\n</style>\n","import script from \"./SheetRow.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./SheetRow.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n\t<div id=\"topBar\">\n\t\t<input id=\"cellPicker\" @input=\"selectCell\" @keyup.esc=\"handleEscape\" @keyup.enter=\"focusFormulaBar\" type=\"text\" placeholder=\"e.g. A0\" />\n\t\t<input id=\"formulaBar\" type=\"text\" placeholder=\"edit cell formulae\" @keyup.enter=\"handleEnter\" @keyup.esc=\"handleEscape\" />\n\t</div>\n</template>\n<script setup>\nimport SheetManager from '../classes/SheetManager.js';\nconst sheetManager = new SheetManager();\nfunction handleEnter() {\n\tsheetManager.setFormula();\n\tdocument.getElementById(\"commandLine\").focus();\n}\n\nfunction handleEscape() {\n\tdocument.getElementById(\"commandLine\").focus();\n}\n\nfunction selectCell() {\n\tlet coords = document.getElementById(\"cellPicker\").value;\n\tlet col = coords.charCodeAt(0) - 65;\n\tlet row = parseInt(coords.slice(1));\n\tconst pattern = /^[A-Z]\\d+$/\n\tif (pattern.test(coords)) {\n\t\tsheetManager.selectCell(row, col);\n\t}\n}\n\nfunction focusFormulaBar() {\n\tdocument.getElementById(\"formulaBar\").focus();\n}\n\n</script>\n<style scoped>\n#topBar {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100%;\n\tfont-size: 15px;\n\tbackground-color: #15202E;\n\tborder: 1px solid #15202E;\n\toutline: none;\n\tcolor: white;\n\tdisplay: flex;\n\tz-index: 5;\n\tbox-shadow: rgba(0,0,0,0.5) 0px 0px 5px 0px;\n}\n\n#cellPicker {\n\tbackground-color: #15202E;\n\tborder: none;\n\toutline: none;\n\theight: 20px;\n\twidth: 80px;\n\tcolor: white;\n\ttext-align: left;\n\tfont-size: 15px;\n\tmargin: 0;\n\twhite-space: nowrap;\n\tborder-right: 1px solid white;\n}\n\n#formulaBar {\n\tbackground-color: #15202E;\n\tborder: none;\n\toutline: none;\n\theight: 20px;\n\twidth: calc(100% - 80px);\n\tcolor: white;\n\ttext-align: left;\n\tfont-size: 15px;\n\tmargin: 0;\n\twhite-space: nowrap;\n}\n</style>\n","import script from \"./FormulaBar.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FormulaBar.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FormulaBar.vue?vue&type=style&index=0&id=7bcc78f4&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7bcc78f4\"]])\n\nexport default __exports__","import SheetManager from '../classes/SheetManager.js';\nconst sheetManager = new SheetManager();\n\n//import { save, open } from '@tauri-apps/plugin-dialog';\n//import { readTextFile, BaseDirectory } from '@tauri-apps/plugin-fs';\n//import { invoke } from '@tauri-apps/api/core';\nexport default class FileManager {\n\tconstructor() {\n\t\tFileManager.instance = this;\n\t}\n\n\tasync saveFile(saveAs = false) {\n\t\t/*\n\t\ttry {\n\t\t\tlet path;\n\t\t\tif (sheetManager.path == null || saveAs) {\n\t\t\t\tpath = await save ({\n\t\t\t\t\tfilters: [\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'My Filter',\n\t\t\t\t\t\t\textensions: ['.dflo'],\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t});\n\t\t\t\tsheetManager.path = path;\n\t\t\t}\n\t\t\telse {\n\t\t\t\tpath = sheetManager.path;\n\t\t\t}\n\n\t\t\tlet object = {\n\t\t\t\trows: sheetManager.rows,\n\t\t\t\tstyles: sheetManager.styles\n\t\t\t};\n\n\t\t\tlet content = JSON.stringify(object);\n\t\t\tawait invoke('write_file', { path: path, content: content });\n\t\t\tthis.setPhMessage(\"Saved file to \" + path + \" successfully\");\n\t\t}\n\t\t*/\n\t\t//catch(e) {\n\t\t\t//console.log(e.message);\n\t\tconsole.log(saveAs);\n\t\tthis.downloadFile(JSON.stringify(sheetManager.rows), \"sheet.dflo\");\n\t\t//}\n\t}\n\n\tdownloadFile(content, filename) {\n\t\t// Create a Blob object with the text content\n\t\tconst blob = new Blob([content], { type: 'text/plain' });\n\n\t\t// Create an object URL for the Blob\n\t\tconst url = URL.createObjectURL(blob);\n\n\t\t// Create an anchor element and set the download link\n\t\tconst a = document.createElement('a');\n\t\ta.href = url;\n\t\ta.download = filename; // Specify the filename\n\t\ta.click(); // Programmatically click the anchor element to trigger the download\n\n\t\t// Clean up by revoking the object URL\n\t\tURL.revokeObjectURL(url);\n\t}\n\n\tasync openFile() {\n\t\t/*\n\t\ttry {\n\t\t\tconst path = await open\n\t\t\t(\n\t\t\t\t{\n\t\t\t\t\tfilters:\n\t\t\t\t\t[\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tname: 'My Filter',\n\t\t\t\t\t\t\textensions: ['.dflo'],\n\t\t\t\t\t\t},\n\t\t\t\t\t]\n\t\t\t\t}\n\t\t\t);\n\n\t\t\tconst file = await readTextFile(path);\n\n\t\t\tif (path.split('.').pop() == \"dflo\") {\n\t\t\t\tconst object = JSON.parse(file);\n\t\t\t\tsheetManager.rows = object.rows;\n\t\t\t\tsheetManager.styles = object.styles;\n\t\t\t\t//sheetManager.loadStyles();\n\t\t\t\tlet prevNumOfRows = sheetManager.numOfRows.value;\n\t\t\t\tlet prevNumOfCols = sheetManager.numOfRows.value;\n\t\t\t\tsheetManager.numOfRows.value = sheetManager.rows.length;\n\t\t\t\tsheetManager.numOfCols.value = sheetManager.rows[0].length;\n\t\t\t\tsheetManager.loadAllCells(prevNumOfRows, prevNumOfCols);\n\t\t\t\tsheetManager.path = path;\n\n\t\t\t\tthis.setPhMessage(\"Opened file from \" + path + \" successfully\");\n\t\t\t}\n\t\t\telse if (path.split('.').pop() == \"heff\") {\n\t\t\t\tsheetManager.rows = JSON.parse(file);\n\t\t\t\tsheetManager.numOfRows.value = sheetManager.rows.length;\n\t\t\t\tsheetManager.numOfCols.value = sheetManager.rows[0].length;\n\t\t\t\tsheetManager.loadAllCells();\n\n\t\t\t\tsheetManager.path = path;\n\n\t\t\t\tthis.setPhMessage(\"Opened file from \" + path + \" successfully\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tthis.setPhMessage(\"Invalid file type\");\n\t\t\t}\n\t\t\t//await file.close();\n\t\t\t//const file = await open(path)\n\t\t}\n\t\t*/\n\t\t//catch (e) {\n\t\tdocument.getElementById(\"webFileUpload\").style.display = \"block\";\n\t\t//}\n\t}\n\n\tsetPhMessage(mg) {\n\t\tdocument.getElementById(\"commandLine\").placeholder = mg;\n\t}\n}\n","import { ref } from \"vue\";\nexport default class LaunchManager {\n\tconstructor() {\n\t\tif (LaunchManager.instance) {\n\t\t\treturn LaunchManager.instance;\n\t\t}\n\n\t\tthis.displayed = ref(true);\n\n\t\tLaunchManager.instance = this;\n\t}\n\n\thide() {\n\t\tthis.displayed.value = false;\n\t}\n}\n","import SheetManager from '../classes/SheetManager.js';\nconst sheetManager = new SheetManager();\n//import ArrowMovement from './ArrowMovement.js';\n//const arrowMovement = new ArrowMovement();\nimport FileManager from '../classes/FileManager.js';\nconst fileManager = new FileManager();\nimport VisualManager from './VisualManager.js';\nconst visualManager = new VisualManager();\n\nimport LaunchManager from './LaunchManager.js';\nconst launchManager = new LaunchManager();\nexport default class CheckCommand {\n\tconstructor() {\n\t\tthis.mode = \"n\";\n\t\tthis.selStartRow = null;\n\t\tthis.selStartCol = null;\n\t\tCheckCommand.instance = this;\n\t}\n\n\tsetPhMessage(mg) {\n\t\tdocument.getElementById(\"commandLine\").placeholder = mg;\n\t}\n\n\t// commands that do not need to have pressed enter to executre\n\tcheckCommand() {\n\t\tthis.setPhMessage(\"\");\n\t\t// templog\n\t\tconsole.log(this.mode);\n\t\tlet com = document.getElementById('commandLine').value;\n\t\tif (com == \"\") {\n\t\t\treturn;\n\t\t}\n\t\tlet formBar = document.getElementById('formulaBar');\n\t\tlet cellPicker = document.getElementById(\"cellPicker\");\n\t\tlet clear = false;\n\t\t// non repeatable commands here\n\t\t// command to edit at the beginning the formula\n\t\tif (com == \"i\") {\n\t\t\tformBar.focus();\n\t\t\tformBar.setSelectionRange(0,0);\n\t\t\tclear = true;\n\t\t}\n\t\t// edit at the end of the formula\n\t\telse if (com == \"a\") {\n\t\t\tformBar.focus();\n\t\t\tconst end = formBar.value.length;\n\t\t\tformBar.setSelectionRange(end, end);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (com == \"v\") {\n\t\t\tthis.mode = \"v\";\n\t\t\tthis.selStartRow = sheetManager.selRow;\n\t\t\tthis.selStartCol = sheetManager.selCol;\n\t\t\tvisualManager.startVisual(sheetManager.selRow, sheetManager.selCol);\n\t\t\tclear = true;\n\t\t}\n\t\t// command to edit the formula of the first cell in the selected row\n\t\telse if (com == \"I\") {\n\t\t\tsheetManager.selectCell(sheetManager.selRow, 0);\n\t\t\tformBar.focus();\n\t\t\tclear = true;\n\t\t}\n\t\t// command to select the first cell in the selected row\n\t\telse if (com == \"^\") {\n\t\t\tsheetManager.selectCell(sheetManager.selRow, 0);\n\t\t\tclear = true;\n\t\t}\n\t\t// command to select last cell in a row\n\t\telse if (com == \"$\") {\n\t\t\tsheetManager.selectCell(sheetManager.selRow, sheetManager.numOfCols.value - 1);\n\t\t\tclear = true;\n\t\t}\n\t\t// command to replace the formula\n\t\telse if (com == \"c\") {\n\t\t\tformBar.value = \"\";\n\t\t\tformBar.focus();\n\t\t\tsheetManager.setFormula(false);\n\t\t\tclear = true;\n\t\t}\n\t\t// command to change the selected cell\n\t\telse if (com == \";\") {\n\t\t\tcellPicker.focus();\n\t\t\tcellPicker.value = \"\";\n\t\t\tclear = true;\n\t\t}\n\t\telse if (com == \"zz\") {\n\t\t\tsheetManager.scrollToCenterSelCell();\n\t\t\tclear = true;\n\t\t}\n\t\t// insert row below\n\t\telse if (com == \"oj\") {\n\t\t\tsheetManager.insertRowBelow();\n\t\t\tclear = true;\n\t\t}\n\t\t// insert row above\n\t\telse if (com == \"ok\") {\n\t\t\tsheetManager.insertRowAbove();\n\t\t\tclear = true;\n\t\t}\n\t\telse if (com == \"oh\") {\n\t\t\tsheetManager.insertColLeft();\n\t\t\tclear = true;\n\t\t}\n\t\telse if (com == \"ol\") {\n\t\t\tsheetManager.insertColRight();\n\t\t\tclear = true;\n\t\t}\n\t\telse if (com == \"yf\" && this.mode == \"v\") {\n\t\t\t// templog\n\t\t\tconsole.log(\"visual selection\");\n\t\t\tlet col = sheetManager.selCol;\n\t\t\tlet row = sheetManager.selRow;\n\t\t\tlet text = sheetManager.getFormula(row, col);\n\t\t\tnavigator.clipboard.writeText(text);\n\n\t\t\tvisualManager.yankSelection(sheetManager);\n\t\t\t// templog\n\t\t\tconsole.log(sheetManager.copyBuffer);\n\n\t\t\tclear = true;\n\t\t\tthis.handleEsc();\n\t\t}\n\t\t// yank formula\n\t\telse if (com == \"yf\") {\n\t\t\tlet col = sheetManager.selCol;\n\t\t\tlet row = sheetManager.selRow;\n\t\t\tlet text = sheetManager.getFormula(row, col);\n\t\t\tnavigator.clipboard.writeText(text);\n\t\t\tsheetManager.yank([[text]]);\n\t\t\tclear = true;\n\t\t}\n\t\t// yank value\n\t\telse if (com == \"ys\") {\n\t\t\tlet col = sheetManager.selCol;\n\t\t\tlet row = sheetManager.selRow;\n\t\t\tlet text = sheetManager.getValue(row, col);\n\t\t\tnavigator.clipboard.writeText(text);\n\t\t\tsheetManager.yank([[text]]);\n\t\t\tclear = true;\n\t\t}\n\t\t// yank a row\n\t\telse if (com == \"yy\") {\n\t\t\tconst row = sheetManager.selRow;\n\t\t\tlet buffer = sheetManager.rows[row];\n\t\t\tlet endIndex = buffer.lastIndexOf(\"\");\n\t\t\tbuffer = endIndex === -1 ? buffer : buffer.slice(0, endIndex + 1);\n\n\t\t\tsheetManager.yank([buffer]);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (com == \"gg\") {\n\t\t\tlet col = sheetManager.selCol;\n\t\t\tsheetManager.selectCell(0, col);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (com == \"G\") {\n\t\t\tlet col = sheetManager.selCol;\n\t\t\tlet row = sheetManager.numOfRows.value - 1;\n\t\t\tsheetManager.selectCell(row, col);\n\t\t\tclear = true;\n\t\t}\n\n\t\t// repeated commands here\n\t\t// getting the amount\n\t\tlet amount = this.parseCommand(com).amount;\n\t\tlet command = this.parseCommand(com).command;\n\t\t\t\n\t\t//if (parseInt(com.substring(0, com.length - 2)) != \"NaN\") {\n\t\t// movements\n\t\tif (command == \"h\") {\n\t\t\tsheetManager.keyboardMotion(-amount, 0);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (command == \"j\") {\n\t\t\tsheetManager.keyboardMotion(0, amount);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (command == \"k\") {\n\t\t\tsheetManager.keyboardMotion(0, -amount);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (command == \"l\") {\n\t\t\tsheetManager.keyboardMotion(amount, 0);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (command == \"p\") {\n\t\t\tsheetManager.paste(amount, false);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (command == \"Pj\") {\n\t\t\tsheetManager.pasteInGapRow(amount, 1);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (command == \"Pk\") {\n\t\t\tsheetManager.pasteInGapRow(amount, -1);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (command == \"Pl\") {\n\t\t\tsheetManager.pasteInGapCol(amount, 1);\n\t\t\tclear = true;\n\t\t}\n\t\telse if (command == \"Ph\") {\n\t\t\tsheetManager.pasteInGapCol(amount, -1);\n\t\t\tclear = true;\n\t\t}\n\t\t// command to delete a row\n\t\telse if (command == \"dd\") {\n\t\t\tsheetManager.deleteSelRow(amount);\n\t\t\tclear = true;\n\t\t}\n\t\t// command to delete a column\n\t\telse if (command == \"dc\") {\n\t\t\tsheetManager.deleteSelCol(amount);\n\t\t\tclear = true;\n\t\t}\n\t\tif (clear) {\n\t\t\tdocument.getElementById(\"commandLine\").value = \"\";\n\t\t}\n\t}\n\n\t\n\thandleEnter() {\n\t\tlet com = document.getElementById('commandLine').value;\n\t\t// save file with command :w\n\t\tif (com == \":w\") {\n\t\t\tfileManager.saveFile();\n\t\t}\n\t\telse if (com == \":forceloadstyles\") {\n\t\t\tsheetManager.loadStyles();\n\t\t}\n\n\t\t// save file as with command :wa\n\t\telse if (com == \":wa\") {\n\t\t\tfileManager.saveFile(true);\n\t\t}\n\n\t\t// open file with command :o\n\t\telse if (com == \":o\") {\n\t\t\tfileManager.openFile();\n\t\t\tlaunchManager.hide();\n\t\t}\n\t\telse if (com == \":clear\") {\n\n\t\t\tsheetManager.clearScreen();\n\n\t\t\tlaunchManager.hide();\n\t\t}\n\t\telse if (com.startsWith(\":hi\")) {\n\t\t\tconst row = sheetManager.selRow;\n\t\t\tconst col = sheetManager.selCol;\n\t\t\tsheetManager.setStyles(com, row, col);\n\t\t}\n\t\telse if (com == \":resetallstyles\") {\n\t\t\tsheetManager.resetAllStyles();\n\t\t}\n\t\tdocument.getElementById(\"commandLine\").value = \"\";\n\t}\n\n\thandleEsc() {\n\t\tvisualManager.exitVisual();\n\t\tthis.mode = \"n\";\n\t\tdocument.getElementById(\"commandLine\").value = \"\";\n\t}\n\n\tparseCommand(com) {\n\t\tconst match = com.match(/^(\\d+)?(.+)$/);\n\n\t\tif (!match) {\n\t\t\treturn null;\n\t\t}\n\n\t\t// eslint-disable-next-line\n\t\tconst [_, amount, command] = match;\n\n\t\treturn {\n\t\t\tamount: amount ? parseInt(amount, 10) : 1,\n\t\t\tcommand: command\n\t\t};\n\t}\n}\n","<template>\n\t<input id=\"commandLine\" placeholder=\"command line here\" spellcheck=\"false\" type=\"text\" @input=\"checkCommand.checkCommand()\" @keyup.enter=\"checkCommand.handleEnter()\" @keyup.esc=\"checkCommand.handleEsc()\" />\n\t<div id=\"webFileUpload\">\n\t\t<input id=\"fileInput\" type=\"file\" />\n\t\t<button id=\"readFileBtn\" @click=\"openFileWeb()\">Read File</button>\n\t\t<button id=\"cancelButton\" @click=\"closeWebFilePick()\">Cancel</button>\n\t</div>\n</template>\n<script setup>\n\timport SheetManager from '../classes/SheetManager.js';\n\tconst sheetManager = new SheetManager();\n\n\timport CheckCommand from '../classes/CheckCommand.js';\n\tconst checkCommand = new CheckCommand();\n\n\t//import { save, open } from '@tauri-apps/plugin-dialog';\n\t//import { readTextFile, BaseDirectory } from '@tauri-apps/plugin-fs';\n\t//import { invoke } from '@tauri-apps/api/core';\n\n\tfunction closeWebFilePick() {\n\t\tdocument.getElementById(\"webFileUpload\").style.display = \"none\";\n\t}\n\n\t/*\n\tfunction setPhMessage(mg) {\n\t\tdocument.getElementById(\"commandLine\").placeholder = mg;\n\t}\n\t*/\n\n\tfunction openFileWeb() {\n\t\tconst fileInput = document.getElementById('fileInput');\n\t\tconst file = fileInput.files[0];\n\n\t\tconsole.log(\"web view\");\n\n\t\tconst reader = new FileReader();\n\n\t\treader.onload = function(e) {\n\t\t\tconsole.log(e.target.result);\n\t\t\tsheetManager.rows = JSON.parse(e.target.result);\n\t\t\tsheetManager.numOfRows.value = sheetManager.rows.length;\n\t\t\tsheetManager.numOfCols.value = sheetManager.rows[0].length;\n\t\t\tsheetManager.loadAllCells();\n\t\t}\n\n\t\treader.readAsText(file);\n\n\n\t\tdocument.getElementById(\"webFileUpload\").style.display = \"none\";\n\t}\n</script>\n<style>\n#commandLine {\n\tposition: fixed;\n\twidth: 100%;\n\tbottom: 0;\n\tcolor: white;\n\tbackground-color: #15202E;\n\tborder: none;\n\toutline: none;\n\tz-index: 30;\n\tbox-shadow: rgba(0,0,0,0.5) 0px 0px 5px 0px;\n\ttext-shadow: 0 0 0 white;\n}\n\n#webFileUpload {\n\tdisplay: none;\n\tposition: fixed;\n\ttop: 50%;\n\tleft: 50%;\n\ttransform: translate(-50%, -50%);\n\n\tbackground-color: #15202E;\n\tborder-radius: 20px;\n\tpadding: 20px;\n\tbox-shadow: black 0px 0px 50px;\n}\n\n#fileInput {\n\tcolor: white;\n}\n\n#cancelButton {\n\tmargin-left: 5px;\n}\n\n</style>\n","import script from \"./CommandLine.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./CommandLine.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./CommandLine.vue?vue&type=style&index=0&id=0f67b290&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","<template>\n<div :style=\"'background-color:' + colour + ';'\" class=\"bubble\" :id=\"colour\"></div>\n\n</template>\n<script setup>\nimport { onMounted, defineProps } from 'vue';\nconst props = defineProps({\n\tcolour: {\n\t\ttype: String,\n\t\trequired: true,\n\t}\n});\n\nlet left = Math.random() * 100;\nlet top = Math.random() * 100;\n\nlet element;\n\nonMounted(() => {\n\telement = document.getElementById(props.colour);\n\n\tconsole.log(element);\n\t//requestAnimationFrame(dvdmove);\n\n\trequestAnimationFrame(trigMove);\n\n\tconsole.log(element.style.top);\n});\n\n\nlet dir = Math.random() * 2 * Math.PI;\n//let dirVel = Math.random() * 0.5;\nlet vel = 0.2;\n\nconst ul = 85;\nconst ll = 0;\nconst maxDeltaDir = 0.2;\n\n\nfunction trigMove() {\n // Update direction\n    dir += Math.random() * maxDeltaDir * 2 - maxDeltaDir;\n\n    // Normalize direction to range [0, 2 * Math.PI]\n    while (dir < 0) dir += 2 * Math.PI;\n    while (dir >= 2 * Math.PI) dir -= 2 * Math.PI;\n\n    // Calculate the next position\n    const nextLeft = left + vel * Math.cos(dir);\n    const nextTop = top + vel * Math.sin(dir);\n\n    // Check bounds and adjust direction if needed\n    if (nextLeft < ll || nextLeft > ul) {\n        dir = Math.PI - dir; // Reflect horizontally\n    }\n    if (nextTop < ll || nextTop > ul) {\n        dir = -dir; // Reflect vertically\n    }\n\n    // Recalculate position after potentially adjusting direction\n    left += vel * Math.cos(dir);\n    top += vel * Math.sin(dir);\n\n    // Apply new position\n    element.style.top = top + \"%\";\n    element.style.left = left + \"%\";\n\n    // Request next frame\n    requestAnimationFrame(trigMove);\n}\n\n/*\nlet xv = 0.1;\nlet yv = 0.1;\n\nlet xd = 1;\nlet yd = 1;\nfunction dvdmove() {\n\tleft += xv * xd;\n\ttop += yv * yd;\n\n\tif (top > 100) yd = -1;\n\tif (top < 0) yd = 1;\n\tif (left > 100) xd = -1;\n\tif (left < 0) xd = 1;\n\n\tconsole.log(\"kia ora\");\n\n\telement.style.top = top + \"%\";\n\telement.style.left = left + \"%\";\n\n\trequestAnimationFrame(move);\n}\n*/\n\n\n</script>\n\n<style scoped>\n.bubble {\n\tposition: fixed;\n\ttop: 0;\n\tleft: 0;\n\twidth: 100px;\n\theight: 100px;\n\tborder-radius: 50%;\n\tfilter: blur(100px);\n}\n</style>\n","import script from \"./BlurBubble.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./BlurBubble.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./BlurBubble.vue?vue&type=style&index=0&id=4777ac8b&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-4777ac8b\"]])\n\nexport default __exports__","<template>\n\t<div id=\"splashScreen\">\n\t\t<h1> Welcome to DataFlow </h1>\n\n\t\t<img src=\"../assets/128x128.png\" />\n\n\t\t<h2> Harness the speed of light </h2>\n\t\t<h2> Commands are entered into the input field at the bottom of the screen.</h2>\n\t\t<h2>Commands</h2>\n\t\t<h3><span class=\"keystroke\">:clear</span> to create a blank spreadsheet.</h3>\n\t\t<h3><span class=\"keystroke\">:help</span> to open the documentation.</h3>\n\t\t<h3><span class=\"keystroke\">:o</span> to open a file.</h3>\n\t\t<h3><span class=\"keystroke\">:w</span> to save a file.</h3>\n\t\t<h3><span class=\"keystroke\">:wa</span> to save a file as.</h3>\n\t\t<!--<div class=\"circle\"></div>-->\n\n\t\t<div id=\"fadeIn\"></div>\n\n\t\t<BlurBubble v-for=\"(colour, index) in colours\" :colour=\"colour\" :key=\"index\" />\n\t</div>\n</template>\n\n<script setup>\nconst colours = [\n\t\"blue\",\n\t\"lightblue\",\n\t\"white\"\n];\nimport BlurBubble from './BlurBubble.vue';\n\n</script>\n\n<style scoped>\n#splashScreen {\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\tleft: 0;\n\tbackground-color: #0B1118;\n\tz-index: 20;\n\tcolor: white;\n\ttext-align: center;\n}\n\nh2 {\n\topacity: 20%;\n}\n\n.keystroke {\n\tpadding: 5px;\n\tbackground-color: #202020;\n\tborder-radius: 5px;\n}\n\n#fakeComLine {\n\tposition: fixed;\n\tbottom: 0;\n\tleft: 0;\n\tright: 0;\n\tborder: none;\n\tbackground-color: #15202E;\n}\n\n@keyframes circle {\n\t0% {\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n\t50% {\n\t\ttop: 70%;\n\t\tleft: 70%;\n\t}\n\t100% {\n\t\ttop: 0;\n\t\tleft: 0;\n\t}\n}\n\n.circle {\n\tposition: fixed;\n\twidth: 400px;\n\theight: 400px;\n\tborder-radius: 50%;\n\tbackground-color: #73DBF3;\n\tfilter: blur(300px);\n\topacity: 50%;\n\n\tanimation-name: circle;\n\tanimation-duration: 30s;\n\tanimation-iteration-count: infinite;\n}\n\n@keyframes fadeIn {\n\tfrom {\n\t\topacity: 100%;\n\t}\n\tto {\n\t\topacity: 0%;\n\t}\n}\n\n#fadeIn {\n\tposition: fixed;\n\ttop: 0;\n\tbottom: 0;\n\tright: 0;\n\tleft: 0;\n\tbackground-color: black;\n\topacity: 0%;\n\n\tanimation-name: fadeIn;\n\tanimation-duration: 3s;\n}\n\n@keyframes logo {\n\tfrom {\n\t\t/*transform: scale(2);*/\n\t\ttransform: translate(0, -150px);\n\t}\n\tto {\n\t\t/*transform: scale(1);*/\n\t\ttransform: translate(0,0);\n\t}\n}\n\nimg {\n\tanimation-name: logo;\n\tanimation-duration: 3s;\n}\n\n</style>\n","import script from \"./FirstLaunchScreen.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./FirstLaunchScreen.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./FirstLaunchScreen.vue?vue&type=style&index=0&id=5a6fdc0a&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-5a6fdc0a\"]])\n\nexport default __exports__","<template>\n\t<FirstLaunchScreen v-if=\"launchManager.displayed\" />\n\t<FormulaBar />\n\t<CommandLine />\n\t<table>\n\t\t<thead>\n\t\t\t<tr>\n\t\t\t\t<th class=\"rowLabelType rowLabels\">abs</th>\n\t\t\t\t<th class=\"rowLabelType relRow\">rel</th>\n\t\t\t\t<th v-for=\"(cell, index) in sheetManager.numOfRows\" :key=\"index\" class=\"labels colLabels\">{{ String.fromCharCode(index + 65) }}</th>\n\t\t\t</tr>\n\t\t</thead>\n\t\t<tbody>\n\t\t\t<SheetRow\n\t\t\t\tv-for=\"(row, index) in sheetManager.rows\"\n\t\t\t\t:key=\"index\"\n\t\t\t\t:row=\"row\"\n\t\t\t\t:rowNo=\"index\"\n\t\t\t/>\n\t\t</tbody>\n\t</table>\n\n</template>\n\n<script setup>\n\timport { ref } from 'vue';\n\timport SheetManager from './classes/SheetManager.js';\n\timport SheetRow from './components/SheetRow.vue';\n\timport FormulaBar from './components/FormulaBar.vue';\n\timport CommandLine from './components/CommandLine.vue';\n\timport FirstLaunchScreen from './components/FirstLaunchScreen.vue';\n\n\timport LaunchManager from './classes/LaunchManager.js';\n\n\tconst launchManager = ref(new LaunchManager());\n\n\tconst sheetManager = ref(new SheetManager());\n\n\t/*let firstTime;\n\tconst testing = true;\n\n\tif (localStorage.getItem(\"launched\") && !testing) firstTime = false;\n\telse {\n\t\tfirstTime = true;\n\t\tlocalStorage.setItem(\"launched\", \"launched\");\n\t}\n\t*/\n</script>\n\n<style>\n#app {\n\tfont-family: Avenir, Helvetica, Arial, sans-serif;\n\t-webkit-font-smoothing: antialiased;\n\t-moz-osx-font-smoothing: grayscale;\n\tcolor: #2c3e50;\n\tbackground-color: #091119;\n\tscrollbar-color: red orange;\n}\n\nbody {\n\tmargin: 0;\n\tpadding: 0;\n\tbackground-color: #091119;\n\n}\n\n::-webkit-scrollbar {\n\tbackground: #0A0C0F;\n}\n\n::-webkit-scrollbar-thumb {\n\tbackground: #1E2227;\n\tborder: 2px #28374A solid;\n\tborder-radius: 5px;\n}\n\ntable {\n\tborder-collapse: collapse;\n\tmargin-top: 24px;\n}\n\n.labels {\n\tcolor: rgba(255,255,255,0.5);\n\tpadding: 0 10px;\n\tbackground-color: #15202E;\n\t/*border: 1px solid #091119;*/\n\tborder: none;\n\tz-index: 2;\n}\n\n.colLabels {\n\tposition: sticky;\n\ttop: 24px;\n}\n\n.rowLabels {\n\tposition: sticky;\n\tleft: 0;\n}\n\n.relRow {\n\tposition: sticky;\n\tleft: 38px;\n}\n\n.rowLabelType {\n\tz-index: 3;\n\ttop: 24px;\n\tbackground-color: #091119;\n}\n</style>\n","import script from \"./App.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./App.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=569daaf5&lang=css\"\n\nconst __exports__ = script;\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\nconst app = createApp(App)\n\n//app.use(router)\n\napp.mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","__webpack_require__.amdD = function () {\n\tthrow new Error('define cannot be used indirect');\n};","__webpack_require__.amdO = {};","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nmd = function(module) {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","__webpack_require__.p = \"/DataFlow/\";","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkdataflow\"] = self[\"webpackChunkdataflow\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8205); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["config","math","create","all","Formulas","constructor","instance","this","replaceVariables","expr","row","col","replaceAll","replaceSUM","replace","match","array","result","getObjectFromTag","SUM","e","message","replaceAVG","AVG","tag","JSON","parse","split","replaceSUMIF","contents","props","conRange","ARRAY","crit","substring","length","valRange","sum","term","i","Number","replaceCOUNTIF","count","replaceAVGIF","replaceCOUNT","COUNT","replaceReferences","sheetManager","letter","number","getValue","charCodeAt","evaluateRefCalcs","expression","evaluate","error","console","evaluateLetterRefCalcs","String","fromCharCode","replaceCellRanges","circularLogic","start","end","startCol","startRow","parseInt","endCol","endRow","stringify","values","j","value","nonNumericValue","log","push","average","VisualManager","startVisual","setVisual","getSelectionElement","element","document","getElementById","clearVisual","Math","min","max","y","x","className","collection","getElementsByClassName","visuals","exitVisual","yankSelection","selRow","selCol","buffer","line","getFormula","copyBuffer","formulas","visualManager","SheetManager","rows","styles","defaultBG","defaultFG","numOfRows","ref","numOfCols","prevRow","prevCol","path","defaultStyling","fg","bg","styleRow","clearScreen","loadAllCells","loadStyles","cols","com","setStyles","color","style","Option","validColor","getCell","backgroundColor","setPlaceholder","resetStyles","resetAllStyles","p","selectCell","bar","undefined","getSelectedCell","updateRelRows","scrollCol","scrollRow","scrollIntoView","block","inline","scrollEdge","left","window","scrollX","top","scrollY","body","scrollHeight","scrollTo","clearPlaceholder","scrollToCenterSelCell","cell","behavior","setFormula","move","innerText","keyboardMotion","yank","cells","paste","amount","horizontal","pasteInGapRow","dir","rowAmount","insertRowBelow","pasteInGapCol","colAmount","insertColRight","newCol","newRow","labels","abs","saveSheetToClipboard","str","navigator","clipboard","writeText","loadFromClipboard","commandLine","placeholder","data","r","c","removeColAtIndex","index","splice","deleteSelCol","removeRowAtIndex","deleteSelRow","insertRowAtIndex","createRow","Array","from","createStyleRow","rowsToInsert","stylesToInsert","insertColumnAtIndex","insertRowAbove","insertColLeft","__props","handleClick","rowNo","colNo","focus","handleDblClick","onMounted","__exports__","handleEnter","handleEscape","coords","slice","pattern","test","focusFormulaBar","FileManager","saveFile","saveAs","downloadFile","content","filename","blob","Blob","type","url","URL","createObjectURL","a","createElement","href","download","click","revokeObjectURL","openFile","display","setPhMessage","mg","LaunchManager","displayed","hide","fileManager","launchManager","CheckCommand","mode","selStartRow","selStartCol","checkCommand","formBar","cellPicker","clear","setSelectionRange","text","handleEsc","endIndex","lastIndexOf","parseCommand","command","startsWith","_","closeWebFilePick","openFileWeb","fileInput","file","files","reader","FileReader","onload","target","readAsText","ul","ll","maxDeltaDir","random","colour","requestAnimationFrame","trigMove","PI","vel","nextLeft","cos","nextTop","sin","colours","app","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","id","loaded","__webpack_modules__","call","m","amdD","Error","amdO","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","Object","keys","every","key","n","getter","__esModule","d","definition","o","defineProperty","enumerable","get","g","globalThis","Function","obj","prop","prototype","hasOwnProperty","Symbol","toStringTag","nmd","paths","children","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","forEach","bind","__webpack_exports__"],"sourceRoot":""}